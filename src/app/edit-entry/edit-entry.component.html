<h2 mat-dialog-title>Eintrag bearbeiten</h2>
<mat-dialog-content class="mat-typography">
  <form [formGroup]="form" (ngSubmit)="save()">
    <div class="flex flex-row">
      <div class="basis-3/4 pr-2">
        <mat-form-field>
          <mat-label>Titel</mat-label>
          <input matInput formControlName="title" />
          <mat-error *ngIf="form.get('title').invalid">Dieses Feld muss ausgefüllt werden</mat-error>
        </mat-form-field>
      </div>
      <div class="basis-1/4">
        <mat-form-field>
          <mat-label>Ganztägig</mat-label>
          <mat-select formControlName="allDay">
            <mat-option [value]="true">Ja</mat-option>
            <mat-option [value]="false">Nein</mat-option>
          </mat-select>
          <mat-error *ngIf="form.get('allDay').invalid">Dieses Feld muss ausgefüllt werden</mat-error>
        </mat-form-field>
      </div>
    </div>
    <mat-form-field>
      <mat-label>Farbe</mat-label>
      <mat-select formControlName="color">
        <mat-option *ngFor="let colorOption of colorOptions" [value]="colorOption[0]">
          {{ colorOption[1].text }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="form.get('color').invalid">Dieses Feld muss ausgefüllt werden</mat-error>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Details</mat-label>
      <textarea matInput rows="10" formControlName="details"></textarea>
      <mat-error *ngIf="form.get('details').invalid">Dieses Feld muss ausgefüllt werden</mat-error>
    </mat-form-field>
    <div class="flex flex-row">
      <div class="basis-2/4 pr-2">
        <mat-form-field>
          <mat-label>Start Datum</mat-label>
          <input id="date-start" matInput formControlName="dateStart" />
          <mat-error *ngIf="form.get('dateStart').invalid">Dieses Feld muss ausgefüllt werden</mat-error>
        </mat-form-field>
      </div>
      <div class="basis-2/4 pr-2 {{ form.get('allDay').value ? 'hidden' : 'block' }}">
        <mat-form-field>
          <mat-label>Start Uhrzeit</mat-label>
          <input id="time-start" matInput formControlName="timeStart" />
          <mat-error *ngIf="form.get('timeStart').invalid">Dieses Feld muss ausgefüllt werden</mat-error>
        </mat-form-field>
      </div>
      <div class="basis-2/4 pr-2">
        <mat-form-field>
          <mat-label>Ende Datum</mat-label>
          <input id="date-end" matInput formControlName="dateEnd" />
          <mat-error *ngIf="form.get('dateEnd').invalid">Dieses Feld muss ausgefüllt werden</mat-error>
        </mat-form-field>
      </div>
      <div class="basis-2/4 {{ form.get('allDay').value ? 'hidden' : 'block' }}">
        <mat-form-field>
          <mat-label>Ende Uhrzeit</mat-label>
          <input id="time-end" matInput formControlName="timeEnd" />
          <mat-error *ngIf="form.get('timeEnd').invalid">Dieses Feld muss ausgefüllt werden</mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="flex flex-row pt-3">
      <div class="basis-1/2">
        <button mat-raised-button color="warn" *ngIf="existingEvent" (click)="delete()">Löschen</button>
      </div>
      <div class="basis-1/2 text-right">
        <button class="mr-2" mat-raised-button color="primary" type="button" (click)="closeDialog()">Abbrechen</button>
        <button mat-raised-button color="primary" type="submit">Speichern</button>
      </div>
    </div>
  </form>
</mat-dialog-content>